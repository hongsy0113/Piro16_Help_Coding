{% extends 'group_base.html' %}
{% block title %} 그룹 커뮤니티 {% endblock %}

{% block content %}
{{ request.user.id|json_script:"user_id" }}
{{ group.id|json_script:"group_id" }}

    <nav>
        <a href="{% url 'group:group_create' %}" class="btn btn-primary">그룹 생성</a>
        <a href="{% url 'group:join_group' %}" class="btn btn-dark">그룹 가입하기</a>
        <a href="{% url 'group:group_home' %}" class="btn btn-danger">나의 그룹</a>
    </nav>
    <div class="all-group__list">
        <form method="get" action="" class="all-group__sort float-end">
            <select id="sort_select" class="sort_select" onChange="location=this.value; getSelectValue(this.form);">
                <option class="sort-name" value="/">--정렬기준--</option>
                <option class="sort-name" value="?sort=name">이름순</option>
                <option class="sort-interest" value="?sort=interest">관심순</option>
            </select>
        </form>
        <div>
            <input type="text" placeholder="새로운 그룹을 검색하세요!" name="group_search" style="width: 500px;"/>
        </div>
        {% for group in groups %}
        <div class="all-group__one">
            <div class="all-group__name"><a href="{% url 'group:group_detail' group.pk %}"><h2>{{ group.name }}</h2></a></div>
            <div class="all-group__img">
                {% if group.image %}
                <img src="{{ group.image.url }}" height="200" width="200" />
                {% else %}
                <img src="{{ ani_image }}" height="200" width="200" />
                {% endif %}
            </div>
            <div class="all-group__intro">{{ group.intro|truncatewords:30 }}</div>
            <div class="all-group__keyword d-flex flex-row">
                <div class="all-group__heart">
                    좋아요
                    <button class="group__heart">  
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
                <div class="all-group__member">멤버 수{{ group.members.all | length }}</div>
            </div>
        </div>
        {% endfor %}
    </div>


{% endblock %}